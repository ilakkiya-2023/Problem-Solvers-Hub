{"ast":null,"code":"var _jsxFileName = \"E:\\\\FSD-FINAL-PROJECT\\\\Blog-App\\\\client\\\\src\\\\components\\\\BlogDetail.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { Box, InputLabel, TextField, Typography, Button, CircularProgress } from \"@mui/material\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst labelStyle = {\n  mb: 1,\n  mt: 2,\n  fontSize: \"24px\",\n  fontWeight: \"bold\"\n};\n\nfunction BlogDetail() {\n  _s();\n\n  const navigate = useNavigate();\n  const [blog, setBlog] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const {\n    id\n  } = useParams();\n  const [inputs, setInputs] = useState({\n    title: \"\",\n    content: \"\",\n    image: \"\",\n    category: \"\"\n  });\n\n  const handleChange = event => {\n    setInputs(prevValue => ({ ...prevValue,\n      [event.target.name]: event.target.value\n    }));\n  };\n\n  const fetchDetails = async () => {\n    try {\n      const res = await axios.get(`http://localhost:3001/api/blog/${id}`);\n      const data = res.data;\n      setBlog(data.blog);\n      setInputs({\n        title: data.blog.title,\n        content: data.blog.content,\n        image: data.blog.image,\n        category: data.blog.category\n      });\n      setLoading(false);\n    } catch (err) {\n      setError(\"Error fetching blog details\");\n      setLoading(false);\n    }\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      const data = await sendRequest();\n      console.log(data);\n      navigate(\"/myBlogs\");\n    } catch (err) {\n      console.error(\"Error updating blog:\", err);\n    }\n  };\n\n  useEffect(() => {\n    fetchDetails();\n  }, [id]);\n\n  const sendRequest = async () => {\n    const res = await axios.put(`http://localhost:8000/api/blog/update/${id}`, {\n      title: inputs.title,\n      content: inputs.content,\n      image: inputs.image,\n      category: inputs.category\n    });\n    return res.data;\n  };\n\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 12\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: inputs && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Box, {\n        border: 2,\n        borderColor: \"secondary.main\",\n        borderRadius: 10,\n        boxShadow: \"10px 10px 20px #ccc\",\n        padding: 3,\n        margin: \"auto\",\n        marginTop: 5,\n        display: \"flex\",\n        flexDirection: \"column\",\n        width: \"70%\",\n        children: [/*#__PURE__*/_jsxDEV(Typography, {\n          fontWeight: \"bold\",\n          padding: 3,\n          color: \"gray\",\n          variant: \"h3\",\n          textAlign: \"center\",\n          children: \"Update your Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n          sx: labelStyle,\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"title\",\n          onChange: handleChange,\n          value: inputs.title,\n          margin: \"normal\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n          sx: labelStyle,\n          children: \"Content\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"content\",\n          onChange: handleChange,\n          value: inputs.content,\n          margin: \"normal\",\n          variant: \"outlined\",\n          multiline: true,\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n          sx: labelStyle,\n          children: \"ImageURL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"image\",\n          onChange: handleChange,\n          value: inputs.image,\n          margin: \"normal\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputLabel, {\n          sx: labelStyle,\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          name: \"category\",\n          onChange: handleChange,\n          value: inputs.category,\n          margin: \"normal\",\n          variant: \"outlined\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 132,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          sx: {\n            mt: 2,\n            borderRadius: 4\n          },\n          variant: \"contained\",\n          color: \"warning\",\n          type: \"submit\",\n          children: \"Submit Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this);\n}\n\n_s(BlogDetail, \"Cr4r/eT8BfZtSJkq+93lZEHFxqY=\", false, function () {\n  return [useNavigate, useParams];\n});\n\n_c = BlogDetail;\nexport default BlogDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"BlogDetail\");","map":{"version":3,"names":["axios","React","useEffect","useState","useNavigate","useParams","Box","InputLabel","TextField","Typography","Button","CircularProgress","labelStyle","mb","mt","fontSize","fontWeight","BlogDetail","navigate","blog","setBlog","loading","setLoading","error","setError","id","inputs","setInputs","title","content","image","category","handleChange","event","prevValue","target","name","value","fetchDetails","res","get","data","err","handleSubmit","preventDefault","sendRequest","console","log","put","borderRadius"],"sources":["E:/FSD-FINAL-PROJECT/Blog-App/client/src/components/BlogDetail.js"],"sourcesContent":["import axios from \"axios\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate, useParams } from \"react-router-dom\";\r\nimport { Box, InputLabel, TextField, Typography, Button, CircularProgress } from \"@mui/material\";\r\n\r\nconst labelStyle = { mb: 1, mt: 2, fontSize: \"24px\", fontWeight: \"bold\" };\r\n\r\nfunction BlogDetail() {\r\n  const navigate = useNavigate();\r\n  const [blog, setBlog] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const { id } = useParams();\r\n\r\n  const [inputs, setInputs] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    category: \"\"\r\n  });\r\n\r\n  const handleChange = (event) => {\r\n    setInputs((prevValue) => ({\r\n      ...prevValue,\r\n      [event.target.name]: event.target.value,\r\n    }));\r\n  };\r\n\r\n  const fetchDetails = async () => {\r\n    try {\r\n      const res = await axios.get(`http://localhost:3001/api/blog/${id}`);\r\n      const data = res.data;\r\n      setBlog(data.blog);\r\n      setInputs({\r\n        title: data.blog.title,\r\n        content: data.blog.content,\r\n        image: data.blog.image,\r\n        category: data.blog.category\r\n      });\r\n      setLoading(false);\r\n    } catch (err) {\r\n      setError(\"Error fetching blog details\");\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const data = await sendRequest();\r\n      console.log(data);\r\n      navigate(\"/myBlogs\");\r\n    } catch (err) {\r\n      console.error(\"Error updating blog:\", err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDetails();\r\n  }, [id]);\r\n\r\n  const sendRequest = async () => {\r\n    const res = await axios.put(`http://localhost:8000/api/blog/update/${id}`, {\r\n      title: inputs.title,\r\n      content: inputs.content,\r\n      image: inputs.image,\r\n      category: inputs.category\r\n    });\r\n    return res.data;\r\n  };\r\n\r\n  if (loading) {\r\n    return <CircularProgress />;\r\n  }\r\n\r\n  if (error) {\r\n    return <Typography color=\"error\">{error}</Typography>;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {inputs && (\r\n        <form onSubmit={handleSubmit}>\r\n          <Box\r\n            border={2}\r\n            borderColor=\"secondary.main\"\r\n            borderRadius={10}\r\n            boxShadow=\"10px 10px 20px #ccc\"\r\n            padding={3}\r\n            margin={\"auto\"}\r\n            marginTop={5}\r\n            display=\"flex\"\r\n            flexDirection={\"column\"}\r\n            width={\"70%\"}\r\n          >\r\n            <Typography\r\n              fontWeight={\"bold\"}\r\n              padding={3}\r\n              color=\"gray\"\r\n              variant=\"h3\"\r\n              textAlign={\"center\"}\r\n            >\r\n              Update your Post\r\n            </Typography>\r\n            <InputLabel sx={labelStyle}>Title</InputLabel>\r\n            <TextField\r\n              name=\"title\"\r\n              onChange={handleChange}\r\n              value={inputs.title}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n            <InputLabel sx={labelStyle}>Content</InputLabel>\r\n            <TextField\r\n              name=\"content\"\r\n              onChange={handleChange}\r\n              value={inputs.content}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n              multiline\r\n              rows={4}\r\n            />\r\n            <InputLabel sx={labelStyle}>ImageURL</InputLabel>\r\n            <TextField\r\n              name=\"image\"\r\n              onChange={handleChange}\r\n              value={inputs.image}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n            <InputLabel sx={labelStyle}>Category</InputLabel>\r\n            <TextField\r\n              name=\"category\"\r\n              onChange={handleChange}\r\n              value={inputs.category}\r\n              margin=\"normal\"\r\n              variant=\"outlined\"\r\n            />\r\n            <Button\r\n              sx={{ mt: 2, borderRadius: 4 }}\r\n              variant=\"contained\"\r\n              color=\"warning\"\r\n              type=\"submit\"\r\n            >\r\n              Submit Post\r\n            </Button>\r\n          </Box>\r\n        </form>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default BlogDetail;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}